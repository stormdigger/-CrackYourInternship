class Solution {
public:
    bool isNumber(string s) {
        if(s.length() == 0) return false;
        // Check for signs
        int i = -1;
        i += (s[0] == '+' || s[0] == '-');

        bool hasDecimal = 0;
        bool hasDigit = 0;
        while(1){
            if(++i == s.length()){
                return hasDigit;
            }
            if(s[i] >= '0' && s[i] <= '9'){
                hasDigit = 1;
            }
            else if(s[i] == '.'){
                if(hasDecimal) return false;
                hasDecimal = 1;
            }
            else if(s[i] == 'e' || s[i] == 'E'){
                if(hasDigit == 0 || i+1 == s.length()) return false;
                break;
            }
            else{
                return false;
            }
        }
        if(s[i+1] == '+' || s[i+1] == '-')
            if(++i == s.length()-1)
                return false;
        
        while((++i < s.length()))
            if(!(s[i] >= '0' && s[i] <= '9'))
                return false;
            
        return true;
    }
};
